parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"9xWA":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrackerManager=void 0;var i=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.debug=n,this.topics={},this.printDebug("init")}return n(t,[{key:"printDebug",value:function(){if(this.debug){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).debug.apply(e,["[campaignion_tracking]"].concat(n))}}},{key:"subscribe",value:function(e,t){var n=this;this.printDebug("subscribe",t),this.topics[e]||(this.topics[e]=[]);var i=this.topics[e].push(t)-1;return{remove:function(){delete n.topics[i]}}}},{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.printDebug("publish",t),this.topics[e]&&this.topics[e].forEach(function(e){return e(t)})}},{key:"saveToStorage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"campaignion_tracking:",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,i=e+t;window.sessionStorage.setItem(i,JSON.stringify(n))}},{key:"loadFromStorage",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"campaignion_tracking:")+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default");return JSON.parse(window.sessionStorage.getItem(e))}},{key:"removeFromStorage",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"campaignion_tracking:")+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default");window.sessionStorage.removeItem(e)}}]),t}();exports.TrackerManager=i;
},{}],"S1sO":[function(require,module,exports) {
"use strict";function e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").filter(Boolean).map(function(e){return i(e)})}function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").filter(function(e){return r.includes(e.prefix)})}function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e(t).reduce(function(e,t){return r.includes(t.prefix)?e.items.push(t):e.rest.push(t.origPart),e},{items:[],rest:[]});return i.origLocationHash=t,i.locationHash=i.rest.join(";"),i}function i(e){var r=e.indexOf("="),t=e.substring(0,r),i=e.substring(r+1),n="",o=t,s=t.indexOf(":");return s>=0&&(o=t.substring(0,s),n=t.substring(s+1)),{prefix:o,id:n,codes:i.split(","),origPart:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseLocationHash=e,exports.parseLocationHashForPrefixes=r,exports.consumeLocationHashForPrefixes=t,exports.parsePart=i;
},{}],"v7Gi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FragmentListener=void 0;var e=t(require("./fragment"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(this,t),this.debug=o,this.tracker=e,this.prefixes=r,this.printDebug("init"),void 0===this.tracker&&this.printDebug("No TrackerManager found. Doing nothing.")}return o(t,[{key:"printDebug",value:function(){if(this.debug){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).debug.apply(e,["[campaignion_tracking]","(listener)"].concat(n))}}},{key:"setup",value:function(){var t=this;window.addEventListener("load",function(n){var r=window.location.hash.substr(1),o=e.consumeLocationHashForPrefixes(t.prefixes,r);o.locationHash!==r&&(o.locationHash.length?window.location.hash="#"+o.locationHash:window.history.replaceState("",window.document.title,window.location.pathname+window.location.search),t.tracker.publish("code",o))})}}]),t}();exports.FragmentListener=i;
},{"./fragment":"S1sO"}],"aFiW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"fragment",{enumerable:!0,get:function(){return t.fragment}}),exports.listener=exports.tm=exports.debug=exports.codeSubscription=exports.fragmentListener=exports.tracker=exports.codePrefixes=exports.trackingCodes=void 0;var e=n(require("./tracker-manager"));exports.tm=e;var r=n(require("./listener"));exports.listener=r;var t=require("./fragment");function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var o={ds:"donationSuccess"};exports.trackingCodes=o;var s=!!parseInt(sessionStorage.getItem("campaignion_debug"));exports.debug=s;var i=function(){if(s){for(var e,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];(e=console).debug.apply(e,["[campaignion_tracking]","(drupal)"].concat(t))}},a=["t","w","d"];exports.codePrefixes=a;var c=new e.TrackerManager(s);exports.tracker=c;var d=new r.FragmentListener(c,a,s);exports.fragmentListener=d,d.setup();var p=c.subscribe("code",function(e){i("handle_code",e);var r=e.items.reduce(function(e,r){return"t"===r.prefix&&r.codes.forEach(function(r){o[r]&&e.tracking.events.push(o[r])}),"w"===r.prefix&&"sid"===r.id&&(e.webform.sid=r.codes[0]),"d"===r.prefix&&"m"===r.id&&(e.donation.method=r.codes[0]),e},{tracking:{events:[]},webform:{},donation:{}});i("handle_events",r);var t={tid:r.webform.sid||null},n={webform:{sid:r.webform.sid||null},donation:{paymethod:r.donation.method||"unknown"}};r.tracking.events.includes("donationSuccess")&&c.publish("donation",{name:"donationSuccess",data:t,context:n})});exports.codeSubscription=p;
},{"./tracker-manager":"9xWA","./listener":"v7Gi","./fragment":"S1sO"}]},{},["aFiW"], "campaignion_tracking")